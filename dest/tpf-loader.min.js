var MovuWidgetObj=function(){this._settings={width:"500px",height:"500px",server:"movu.ch",protocol:"http",holderId:"movu-embedded-widget-holder",background:"#4283BD"},this._params={language:"en"},this._forms=[]},proto=MovuWidgetObj.prototype;proto.settings=function(){var a=this;return{set:function(b,c){a._settings[b]=c},get:function(b){return a._settings[b]}}},proto.getApiUrl=function(){var a="?";for(var b in this._params)-1===["language","customerId"].indexOf(b)&&(a+=b+"="+this._params[b]+"&");return"&"===a.substr(-1)&&(a=a.substring(0,a.length-1)),this._settings.protocol+"://"+this._settings.server+"/"+this._params.language+"/api/widget/"+this._params.customerId+("?"===a?"":a)},proto.isIE=function(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("msie")?parseInt(a.split("msie")[1]):!1},proto.createXhr=function(a){var b=this.isIE();if(8>=b&&(!a.match(/^(get|post|head|put|delete|options)$/i)||!window.XMLHttpRequest))return new window.ActiveXObject("Microsoft.XMLHTTP");if(window.XMLHttpRequest)return new window.XMLHttpRequest;throw minErr("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")},proto.http=function(a,b){var c=this.isIE(),d=this.createXhr(a.method);return d.onreadystatechange=function(){4===d.readyState&&(200===d.status?b(null,{status:d.status,statusText:10>c?"":d.statusText,body:"response"in d?d.response:d.responseText}):0!==d.status&&b(null,{status:d.status,statusText:10>c?"":d.statusText,body:"response"in d?d.response:d.responseText}))},d.open(a.method,a.url),void 0!==a.data?d.send(JSON.stringify(a.data)):d.send(),d},proto.form=function(a){var b=this;return void 0===this._forms[a]&&(this._forms[a]={}),{set:function(c,d){b._forms[a][c]=d}}},proto.populateForm=function(a,b){if(b=b||"",void 0!==this._forms[a])for(var c in this._forms[a]){var d=document.getElementById(b+c);d.value=this._forms[a][c]}},proto.params=function(){var a=this;return{set:function(b,c){a._params[b]=c},get:function(b){return a._params[b]}}},proto.init=function(){var loaderSelf=this;if(void 0===this._params.customer_id)throw"Parameter customer_id is required";if(this.el=document.getElementById(this._settings.holderId),void 0===this.el||null===this.el)throw"\nCan't find holder element with id: "+this._settings.holderId+"\n* Use MovuWidget.settings.set('holderId','element name');\n* Or place html elemenent with id: "+this._settings.holderId;this.el.style.width=this._settings.width,this.el.style.height=this._settings.height,this.el.style.background=this._settings.background,this.http({method:"GET",url:this.getApiUrl()},function(err,data){loaderSelf.el.innerHTML=JSON.parse(data.body).body;for(var codes=loaderSelf.el.getElementsByTagName("script"),i=0;i<codes.length;i++)eval(codes[i].text)})};var MovuWidget=new MovuWidgetObj;